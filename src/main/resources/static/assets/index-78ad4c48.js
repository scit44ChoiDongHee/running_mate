import{r as C,ak as F,j as s,al as k}from"./index-50ec8743.js";import{h as y,i as l,p as N,u as R,A as S,F as I,k as M,l as $,m as c,n as m,o as A}from"./index.esm-beb7b3f1.js";import{B as p}from"./Button-b01f0ef4.js";import{P as w}from"./PasswordInput-6834f77e.js";import"./Views-fbc3bf99.js";import"./isNil-95d9b4b6.js";import"./index-ec9d12a3.js";import"./CloseButton-82af4221.js";const B=y().shape({password:l().required("Please enter your password"),confirmPassword:l().oneOf([N("password")],"Your passwords do not match")}),Y=u=>{const{disableSubmit:h=!1,className:f,signInUrl:x="/sign-in"}=u,[n,j]=C.useState(!1),[t,P]=R(),b=F(),g=async(a,e)=>{var i,d;const{password:r}=a;e(!0);try{(await k({password:r})).data&&(e(!1),j(!0))}catch(o){P(((d=(i=o==null?void 0:o.response)==null?void 0:i.data)==null?void 0:d.message)||o.toString()),e(!1)}},v=()=>{b("/sign-in")};return s.jsxs("div",{className:f,children:[s.jsx("div",{className:"mb-6",children:n?s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"mb-1",children:"Reset done"}),s.jsx("p",{children:"Your password has been successfully reset"})]}):s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"mb-1",children:"Set new password"}),s.jsx("p",{children:"Your new password must different to previos password"})]})}),t&&s.jsx(S,{showIcon:!0,className:"mb-4",type:"danger",children:t}),s.jsx(I,{initialValues:{password:"123Qwe1",confirmPassword:"123Qwe1"},validationSchema:B,onSubmit:(a,{setSubmitting:e})=>{h?e(!1):g(a,e)},children:({touched:a,errors:e,isSubmitting:r})=>s.jsx(M,{children:s.jsxs($,{children:[n?s.jsx(p,{block:!0,variant:"solid",type:"button",onClick:v,children:"Continue"}):s.jsxs(s.Fragment,{children:[s.jsx(c,{label:"Password",invalid:e.password&&a.password,errorMessage:e.password,children:s.jsx(m,{autoComplete:"off",name:"password",placeholder:"Password",component:w})}),s.jsx(c,{label:"Confirm Password",invalid:e.confirmPassword&&a.confirmPassword,errorMessage:e.confirmPassword,children:s.jsx(m,{autoComplete:"off",name:"confirmPassword",placeholder:"Confirm Password",component:w})}),s.jsx(p,{block:!0,loading:r,variant:"solid",type:"submit",children:r?"Submiting...":"Submit"})]}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("span",{children:"Back to "}),s.jsx(A,{to:x,children:"Sign in"})]})]})})})]})},E=()=>s.jsx(Y,{disableSubmit:!1}),D=E;export{D as default};
